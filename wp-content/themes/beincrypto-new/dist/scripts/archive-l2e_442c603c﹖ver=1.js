Alpine.data("l2ePostsData",(()=>({pagination:{baseUrl:`${l2ePostsConfig.apiUri}/taxonomy/all`,currentPage:l2ePostsConfig.currentPage,totalPages:l2ePostsConfig.totalPages,range:1},l2eSearchValue:"",posts:[],postsPerPage:l2ePostsConfig.postsPerPage,isLoading:!1,hasNoPosts:!1,doPagination(t){this.fetchPosts(this.pagination.baseUrl,t),this.pagination.currentPage=t},removeSSRData(){const t=document.querySelectorAll('[data-el="l2e-initial-data"]');t&&t.forEach((t=>{t.remove()}))},fetchPosts(t,e=1){this.isLoading||(this.removeSSRData(),this.isLoading=!0,this.hasNoPosts=!1,this.pagination.baseUrl=t,fetch(`${t}?paged=${e}&per_page=${this.postsPerPage}`).then((t=>t.json())).then((t=>{this.isLoading=!1,void 0!==t?.posts?(this.posts=t.posts,this.pagination.totalPages=t.pagination.totalPages,this.pagination.currentPage=t.pagination.currentPage):void 0!==t?.error&&(this.hasNoPosts=!0)})).catch((t=>{console.error("Error fetching posts:",t)})).finally((()=>{this.isLoading=!1,BIC_DATA?.lazyLoad&&BIC_DATA.lazyLoad.update()})))},fetchPostsByTax(t){this.fetchPosts(`${l2ePostsConfig.apiUri}/taxonomy/${t}`),"all"===t&&this.setCurrentTaxFilter(!0,document.querySelector('[data-l2e_filter="all"]')),this.l2eSearchValue=""},searchPosts(){this.fetchPosts(`${l2ePostsConfig.apiUri}/search/${this.l2eSearchValue}`),this.setCurrentTaxFilter(!0,document.querySelector('[data-l2e_filter="all"]'))},setCurrentTaxFilter(t,e=null){if(t){var a;const s=null!=e?e:null!==(a=t?.currentTarget)&&void 0!==a?a:t.target;document.querySelectorAll('[data-el="l2e-tax-filter"]').forEach((t=>{t.classList.remove("current")})),s.classList.add("current")}}}))),Alpine.start();