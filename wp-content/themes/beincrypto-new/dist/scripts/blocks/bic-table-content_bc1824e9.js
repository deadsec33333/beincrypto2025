!function(){let t=function(){return{init(){const t=document.querySelector('[data-el="bic-table-of-contents"]');if(null==t)return;if(this.isTOCDisabled())return;this.initStickyBlock(t);const e=document.querySelector('[data-el="bic-toc-sticky"]');this.tocStickyLinks=e.querySelector('[data-el="bic-toc-sticky__itemswrap"]').querySelectorAll("a"),this.tocBaseLinks=t.querySelector(".bic_toc__itemswrap").querySelectorAll("a"),this.displayStickyBlock(e),this.switchActionInit(e),this.scrollToAnchorInit(this.tocStickyLinks),this.scrollToAnchorInit(this.tocBaseLinks),this.scrollPosition(this.tocStickyLinks),this.initHClasses(t);let c=document.createElement("style");c.setAttribute("id","bic-toc-styles"),c.textContent="h2, h3, h4 {scroll-margin-top: 75px;} .listicle-card h2 {scroll-margin-top: 100px;} @media (max-width: 1024px) {h2, h3, h4 {scroll-margin-top: 60px;} .listicle-card h2 {scroll-margin-top: 350px;}}",document.querySelector("body").appendChild(c)},initHClasses(t){if(t.closest(".entry-content-inner")){const e=t.closest(".entry-content-inner").querySelectorAll("h1, h2, h3, h4, h5, h6"),c=document.querySelector('[data-el="bic-toc-sticky"]');e.forEach((e=>{const i="cl-"+e.tagName;let s=e.getAttribute("id"),o=t.querySelector('[href="#'+s+'"]');o&&o.classList.add(i),o=c.querySelector('[href="#'+s+'"]'),o&&o.classList.add(i)}))}},initStickyBlock(t){let e=document.createElement("div");e.setAttribute("data-el","bic-toc-sticky"),e.className="hidden bic_toc_sticky";let c=document.createElement("div");c.setAttribute("data-el","bic-toc-sticky__current"),c.className="bic_toc__current";let i=c.textContent=document.querySelector("header h1");i&&(c.textContent=i.textContent),e.appendChild(c);let s=document.createElement("div");s.className="bic_toc__switchwrap";let o=document.createElement("a");o.className="bic_toc__switch not-link",o.setAttribute("data-el","bic-toc-sticky__switch"),o.setAttribute("href","#"),o.setAttribute("title",t.querySelector(".ht_toc_title").textContent),o.innerHTML="<span>"+t.querySelector(".ht_toc_title").textContent+"</span>",s.appendChild(o);let n=document.createElement("div");n.className="bic_toc__itemswrap",n.setAttribute("data-el","bic-toc-sticky__itemswrap");let l=document.createElement("div");l.className="bic_toc__title",l.textContent=t.querySelector(".ht_toc_title").textContent,n.appendChild(l);let a=document.createElement("div");a.className="bic_toc__items bic-default-scroll",a.appendChild(t.querySelector(".bic_toc__itemswrap .ht_toc_list").cloneNode(!0)),n.appendChild(a),s.appendChild(n),e.appendChild(s),document.querySelector("body").appendChild(e)},displayStickyBlock(t){const e=document.querySelector('[data-el="bic-table-of-contents"]');var c=this;addEventListener("scroll",(()=>{e.offsetTop+e.offsetHeight<window.pageYOffset?(t.classList.contains("hidden")&&c.sendEvent("toc__show"),t.classList.remove("hidden"),t.classList.add("flex")):(t.classList.remove("flex"),t.classList.add("hidden"),t.querySelector('[data-el="bic-toc-sticky__switch"]').classList.remove("opened"),t.querySelector('[data-el="bic-toc-sticky__itemswrap"]').classList.remove("opened"))}),{passive:!0})},switchActionInit(t){var e=this;t.addEventListener("click",(c=>{c.preventDefault();const i=t.querySelector('[data-el="bic-toc-sticky__switch"]');i.classList.toggle("opened"),t.querySelector('[data-el="bic-toc-sticky__itemswrap"]').classList.toggle("opened");let s=decodeURI(window.location.hash.substr(1));s&&e.changeLinkStatus(s),i.classList.contains("opened")&&e.sendEvent("toc__open")}))},scrollToAnchorInit(t){var e=this;t.forEach((t=>{t.addEventListener("click",(c=>{c.preventDefault(),e.scrollToAnchor(t),null!==t.closest('[data-el="bic-table-of-contents"]')&&e.sendEvent("toc__click_main_widget"),null!==t.closest('[data-el="bic-toc-sticky"]')&&e.sendEvent("toc__click_floating_widget")}))}))},scrollToAnchor(t){const e=this.getAnchor(t),c=document.getElementById(e);let i=location.hash?window.location.href.replace(location.hash,"#"+e):window.location.href+"#"+e;window.history.replaceState("",document.title,i),this.changeLinkStatus(e),c.scrollIntoView({behavior:"smooth",block:"start"})},changeLinkStatus(t){this.tocStickyLinks.forEach((e=>{const c=this.getAnchor(e);t!==c?e.classList.remove("current"):(e.classList.add("current"),e.scrollIntoView({behavior:"auto",block:"center"}))}))},getAnchor(t){let e=t.getAttribute("href").split("#");return 2==e.length?e[1]:""},sendEvent(t){"undefined"!=typeof dataLayer&&window.dataLayer.push({event:t})},scrollPosition(t){var e=this;window.addEventListener("scroll",(()=>{var c=!1;t.forEach((t=>{let i=this.getAnchor(t),s=window.scrollY-document.getElementById(i).offsetTop;0==c&&s<300&&s>200&&s>0&&(e.changeLinkStatus(i),c=!0)}))}),{passive:!0})},isTOCDisabled:()=>document.body.classList.contains("bic-toc-sticky-disabled")}};try{(new t).init()}catch(t){console.error(t)}}();