import{a as A,b as M,c as B,d as g,e as K,f as W,g as Z,h as _}from"/jobs/build/_shared/chunk-IPYAHAJX.js";import{a as O,c as T,f as C,g as h,h as N,i as D,j as L,k as $,l as d,m as V,o as j,p as Q,q as G,r as H,s as q,v as J,w as X,y as Y}from"/jobs/build/_shared/chunk-XD7G5VDS.js";import{f as ee,i as te,j as F,k as E}from"/jobs/build/_shared/chunk-OTKXJQRY.js";E();var i=ee(te(),1);var re=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(re||{}),oe=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(oe||{}),ne=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(ne||{}),ae=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.SetDisabled=2]="SetDisabled",e[e.SetOrientation=3]="SetOrientation",e[e.GoToOption=4]="GoToOption",e[e.Search=5]="Search",e[e.ClearSearch=6]="ClearSearch",e[e.RegisterOption=7]="RegisterOption",e[e.UnregisterOption=8]="UnregisterOption",e))(ae||{});function U(e,a=r=>r){let r=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,t=Y(a(e.options.slice()),n=>n.dataRef.current.domRef.current),o=r?t.indexOf(r):null;return o===-1&&(o=null),{options:t,activeOptionIndex:o}}var ie={[1](e){return e.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},[0](e){if(e.disabled||e.listboxState===0)return e;let a=e.activeOptionIndex,{value:r,mode:t}=e.propsRef.current,o=e.options.findIndex(n=>{let l=n.dataRef.current.value;return h(t,{[1]:()=>r.includes(l),[0]:()=>r===l})});return o!==-1&&(a=o),{...e,listboxState:0,activeOptionIndex:a}},[2](e,a){return e.disabled===a.disabled?e:{...e,disabled:a.disabled}},[3](e,a){return e.orientation===a.orientation?e:{...e,orientation:a.orientation}},[4](e,a){var r;if(e.disabled||e.listboxState===1)return e;let t=U(e),o=K(a,{resolveItems:()=>t.options,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:n=>n.id,resolveDisabled:n=>n.dataRef.current.disabled});return{...e,...t,searchQuery:"",activeOptionIndex:o,activationTrigger:(r=a.trigger)!=null?r:1}},[5]:(e,a)=>{if(e.disabled||e.listboxState===1)return e;let r=e.searchQuery!==""?0:1,t=e.searchQuery+a.value.toLowerCase(),o=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+r).concat(e.options.slice(0,e.activeOptionIndex+r)):e.options).find(l=>{var u;return!l.dataRef.current.disabled&&((u=l.dataRef.current.textValue)==null?void 0:u.startsWith(t))}),n=o?e.options.indexOf(o):-1;return n===-1||n===e.activeOptionIndex?{...e,searchQuery:t}:{...e,searchQuery:t,activeOptionIndex:n,activationTrigger:1}},[6](e){return e.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},[7]:(e,a)=>{let r={id:a.id,dataRef:a.dataRef},t=U(e,o=>[...o,r]);if(e.activeOptionIndex===null){let{value:o,mode:n}=e.propsRef.current,l=a.dataRef.current.value;h(n,{[1]:()=>o.includes(l),[0]:()=>o===l})&&(t.activeOptionIndex=t.options.indexOf(r))}return{...e,...t}},[8]:(e,a)=>{let r=U(e,t=>{let o=t.findIndex(n=>n.id===a.id);return o!==-1&&t.splice(o,1),t});return{...e,...r,activationTrigger:1}}},z=(0,i.createContext)(null);z.displayName="ListboxContext";function k(e){let a=(0,i.useContext)(z);if(a===null){let r=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,k),r}return a}function se(e,a){return h(a.type,ie,e,a)}var le=i.Fragment,ue=L(function(e,a){let{value:r,name:t,onChange:o,disabled:n=!1,horizontal:l=!1,multiple:u=!1,...b}=e,R=l?"horizontal":"vertical",y=C(a),S=(0,i.useReducer)(se,{listboxState:1,propsRef:{current:{value:r,onChange:o,mode:u?1:0}},labelRef:(0,i.createRef)(),buttonRef:(0,i.createRef)(),optionsRef:(0,i.createRef)(),disabled:n,orientation:R,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1}),[{listboxState:f,propsRef:m,optionsRef:P,buttonRef:v},s]=S;m.current.value=r,m.current.mode=u?1:0,O(()=>{m.current.onChange=x=>h(m.current.mode,{[0](){return o(x)},[1](){let c=m.current.value.slice(),I=c.indexOf(x);return I===-1?c.push(x):c.splice(I,1),o(c)}})},[o,m]),O(()=>s({type:2,disabled:n}),[n]),O(()=>s({type:3,orientation:R}),[R]),j([v,P],(x,c)=>{var I;f===0&&(s({type:1}),X(c,J.Loose)||(x.preventDefault(),(I=v.current)==null||I.focus()))});let p=(0,i.useMemo)(()=>({open:f===0,disabled:n}),[f,n]),w={ref:y};return i.default.createElement(z.Provider,{value:S},i.default.createElement(H,{value:h(f,{[0]:Q.Open,[1]:Q.Closed})},t!=null&&r!=null&&_({[t]:r}).map(([x,c])=>i.default.createElement(Z,{...$({key:x,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:x,value:c})})),D({ourProps:w,theirProps:b,slot:p,defaultTag:le,name:"Listbox"})))}),pe="button",ce=L(function(e,a){var r;let[t,o]=k("Listbox.Button"),n=C(t.buttonRef,a),l=`headlessui-listbox-button-${T()}`,u=M(),b=(0,i.useCallback)(v=>{switch(v.key){case d.Space:case d.Enter:case d.ArrowDown:v.preventDefault(),o({type:0}),u.nextFrame(()=>{t.propsRef.current.value||o({type:4,focus:g.First})});break;case d.ArrowUp:v.preventDefault(),o({type:0}),u.nextFrame(()=>{t.propsRef.current.value||o({type:4,focus:g.Last})});break}},[o,t,u]),R=(0,i.useCallback)(v=>{switch(v.key){case d.Space:v.preventDefault();break}},[]),y=(0,i.useCallback)(v=>{if(V(v.currentTarget))return v.preventDefault();t.listboxState===0?(o({type:1}),u.nextFrame(()=>{var s;return(s=t.buttonRef.current)==null?void 0:s.focus({preventScroll:!0})})):(v.preventDefault(),o({type:0}))},[o,u,t]),S=B(()=>{if(t.labelRef.current)return[t.labelRef.current.id,l].join(" ")},[t.labelRef.current,l]),f=(0,i.useMemo)(()=>({open:t.listboxState===0,disabled:t.disabled}),[t]),m=e,P={ref:n,id:l,type:W(e,t.buttonRef),"aria-haspopup":!0,"aria-controls":(r=t.optionsRef.current)==null?void 0:r.id,"aria-expanded":t.disabled?void 0:t.listboxState===0,"aria-labelledby":S,disabled:t.disabled,onKeyDown:b,onKeyUp:R,onClick:y};return D({ourProps:P,theirProps:m,slot:f,defaultTag:pe,name:"Listbox.Button"})}),de="label",fe=L(function(e,a){let[r]=k("Listbox.Label"),t=`headlessui-listbox-label-${T()}`,o=C(r.labelRef,a),n=(0,i.useCallback)(()=>{var u;return(u=r.buttonRef.current)==null?void 0:u.focus({preventScroll:!0})},[r.buttonRef]),l=(0,i.useMemo)(()=>({open:r.listboxState===0,disabled:r.disabled}),[r]);return D({ourProps:{ref:o,id:t,onClick:n},theirProps:e,slot:l,defaultTag:de,name:"Listbox.Label"})}),ve="ul",be=N.RenderStrategy|N.Static,xe=L(function(e,a){var r;let[t,o]=k("Listbox.Options"),n=C(t.optionsRef,a),l=`headlessui-listbox-options-${T()}`,u=M(),b=M(),R=G(),y=(()=>R!==null?R===Q.Open:t.listboxState===0)();(0,i.useEffect)(()=>{var s;let p=t.optionsRef.current;!p||t.listboxState===0&&p!==((s=q(p))==null?void 0:s.activeElement)&&p.focus({preventScroll:!0})},[t.listboxState,t.optionsRef]);let S=(0,i.useCallback)(s=>{switch(b.dispose(),s.key){case d.Space:if(t.searchQuery!=="")return s.preventDefault(),s.stopPropagation(),o({type:5,value:s.key});case d.Enter:if(s.preventDefault(),s.stopPropagation(),t.activeOptionIndex!==null){let{dataRef:p}=t.options[t.activeOptionIndex];t.propsRef.current.onChange(p.current.value)}t.propsRef.current.mode===0&&(o({type:1}),A().nextFrame(()=>{var p;return(p=t.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})}));break;case h(t.orientation,{vertical:d.ArrowDown,horizontal:d.ArrowRight}):return s.preventDefault(),s.stopPropagation(),o({type:4,focus:g.Next});case h(t.orientation,{vertical:d.ArrowUp,horizontal:d.ArrowLeft}):return s.preventDefault(),s.stopPropagation(),o({type:4,focus:g.Previous});case d.Home:case d.PageUp:return s.preventDefault(),s.stopPropagation(),o({type:4,focus:g.First});case d.End:case d.PageDown:return s.preventDefault(),s.stopPropagation(),o({type:4,focus:g.Last});case d.Escape:return s.preventDefault(),s.stopPropagation(),o({type:1}),u.nextFrame(()=>{var p;return(p=t.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})});case d.Tab:s.preventDefault(),s.stopPropagation();break;default:s.key.length===1&&(o({type:5,value:s.key}),b.setTimeout(()=>o({type:6}),350));break}},[u,o,b,t]),f=B(()=>{var s,p,w;return(w=(s=t.labelRef.current)==null?void 0:s.id)!=null?w:(p=t.buttonRef.current)==null?void 0:p.id},[t.labelRef.current,t.buttonRef.current]),m=(0,i.useMemo)(()=>({open:t.listboxState===0}),[t]),P=e,v={"aria-activedescendant":t.activeOptionIndex===null||(r=t.options[t.activeOptionIndex])==null?void 0:r.id,"aria-multiselectable":t.propsRef.current.mode===1?!0:void 0,"aria-labelledby":f,"aria-orientation":t.orientation,id:l,onKeyDown:S,role:"listbox",tabIndex:0,ref:n};return D({ourProps:v,theirProps:P,slot:m,defaultTag:ve,features:be,visible:y,name:"Listbox.Options"})}),me="li",Re=L(function(e,a){let{disabled:r=!1,value:t,...o}=e,[n,l]=k("Listbox.Option"),u=`headlessui-listbox-option-${T()}`,b=n.activeOptionIndex!==null?n.options[n.activeOptionIndex].id===u:!1,R=h(n.propsRef.current.mode,{[1]:()=>n.propsRef.current.value.includes(t),[0]:()=>n.propsRef.current.value===t}),y=(0,i.useRef)(null),S=C(a,y);O(()=>{if(n.listboxState!==0||!b||n.activationTrigger===0)return;let x=A();return x.requestAnimationFrame(()=>{var c,I;(I=(c=y.current)==null?void 0:c.scrollIntoView)==null||I.call(c,{block:"nearest"})}),x.dispose},[y,b,n.listboxState,n.activationTrigger,n.activeOptionIndex]);let f=(0,i.useRef)({disabled:r,value:t,domRef:y});O(()=>{f.current.disabled=r},[f,r]),O(()=>{f.current.value=t},[f,t]),O(()=>{var x,c;f.current.textValue=(c=(x=y.current)==null?void 0:x.textContent)==null?void 0:c.toLowerCase()},[f,y]);let m=(0,i.useCallback)(()=>n.propsRef.current.onChange(t),[n.propsRef,t]);O(()=>(l({type:7,id:u,dataRef:f}),()=>l({type:8,id:u})),[f,u]);let P=(0,i.useCallback)(x=>{if(r)return x.preventDefault();m(),n.propsRef.current.mode===0&&(l({type:1}),A().nextFrame(()=>{var c;return(c=n.buttonRef.current)==null?void 0:c.focus({preventScroll:!0})}))},[l,n.buttonRef,r,m]),v=(0,i.useCallback)(()=>{if(r)return l({type:4,focus:g.Nothing});l({type:4,focus:g.Specific,id:u})},[r,u,l]),s=(0,i.useCallback)(()=>{r||b||l({type:4,focus:g.Specific,id:u,trigger:0})},[r,b,u,l]),p=(0,i.useCallback)(()=>{r||!b||l({type:4,focus:g.Nothing})},[r,b,l]),w=(0,i.useMemo)(()=>({active:b,selected:R,disabled:r}),[b,R,r]);return D({ourProps:{id:u,ref:S,role:"option",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-selected":R===!0?!0:void 0,disabled:void 0,onClick:P,onFocus:v,onPointerMove:s,onMouseMove:s,onPointerLeave:p,onMouseLeave:p},theirProps:o,slot:w,defaultTag:me,name:"Listbox.Option"})}),Ne=Object.assign(ue,{Button:ce,Label:fe,Options:xe,Option:Re});E();function ye({size:e=18,className:a,...r}){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",width:e,height:e,className:a,...r},F.createElement("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"}))}export{Ne as a,ye as b};
