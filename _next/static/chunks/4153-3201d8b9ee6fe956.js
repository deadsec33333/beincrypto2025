"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4153],{32719:function(e,t,n){n.d(t,{C4:function(){return s},Px:function(){return l},Qc:function(){return d},Ux:function(){return c},fv:function(){return u},kZ:function(){return a},qo:function(){return o},x$:function(){return r}});var i=n(33995);let a=i.zo.div.withConfig({displayName:"FiltersWrapper",componentId:"sc-383eda22-0"})(["display:flex;flex-direction:column;"]),l=i.zo.div.withConfig({displayName:"FiltersContainer",componentId:"sc-383eda22-1"})(["display:flex;color:rgba(255,255,255,0.85);align-items:center;overflow:auto;font-size:14px;line-height:22px;gap:16px;@media only screen and (max-width:768px){flex-direction:row-reverse;justify-content:flex-end;padding-inline-start:16px;gap:8px;}"]),r=i.zo.span.withConfig({displayName:"Filters",componentId:"sc-383eda22-2"})(["display:flex;overflow:auto;column-gap:0.5rem;@media only screen and (max-width:768px){overflow-x:scroll;-ms-overflow-style:none;scrollbar-width:none;}"]),o=i.zo.div.withConfig({displayName:"FilterSectionSearchSuspenseMobile",componentId:"sc-383eda22-3"})(["width:42px;height:34px;padding-inline-start:12px;border-radius:8px;background:#1b1b1b;"]),s=i.zo.div.withConfig({displayName:"FilterSectionSearchSuspenseDesktop",componentId:"sc-383eda22-4"})(["width:198px;height:34px;padding-inline-start:12px;border-radius:8px;background:#1b1b1b;"]),c=i.zo.span.withConfig({displayName:"FilterTitle",componentId:"sc-383eda22-5"})(["align-self:flex-start;@media (max-width:800px){display:none;}@media (min-width:800px){padding-inline-end:1rem;}"]),u=i.zo.div.withConfig({displayName:"InputContainer",componentId:"sc-383eda22-6"})(["@media only screen and (max-width:768px){.ant-select{width:",";transition:width 0.3s ease;cursor:pointer;}.ant-input{cursor:pointer;}}"],e=>{let{isFocused:t}=e;return t?"200px":"42px"});i.zo.span.withConfig({displayName:"PrefixItemContainer",componentId:"sc-383eda22-7"})(["display:flex;align-items:center;"]);let d=i.zo.div.withConfig({displayName:"AutoComplete",componentId:"sc-383eda22-8"})(["&&& .ant-select-single{height:34px;}&&& .ant-select-selection-placeholder{inset-inline-start:20px;}&&& .ant-input-affix-wrapper .ant-input-suffix{color:rgba(255,255,255,0.45);}"])},87168:function(e,t,n){n.r(t),n.d(t,{FilterSectionSearchSuspense:function(){return m}});var i=n(57437),a=n(45084),l=n(60286),r=n(60977),o=n(88545),s=n(12803),c=n(88044),u=n(76320),d=n(14123),f=n.n(d),p=n(2265),h=n(17336),g=n(32719);let m=()=>{let{isMobile:e}=(0,l.Z)();return e?(0,i.jsx)(g.qo,{}):(0,i.jsx)(g.C4,{})};t.default=()=>{var e;let[t,n]=(0,p.useState)([]),{isMobile:d}=(0,l.Z)(),[m,x]=(0,p.useState)(!1);(0,p.useEffect)(()=>{x(!0)},[]);let{filterNameQuery:v,setFilterNameQuery:y}=(0,h.b)(),{t:S}=(0,o.ZP)(),{data:b,loading:w}=(0,s.$y)({general:{paginationOffset:{offset:0,limit:10}},...v.length>1?{filterQuery:{filters:[{query:v,field:a.X1.Name,queryType:a.yi.StartsWith}]}}:{}});(0,p.useEffect)(()=>{var e;n(null==b?void 0:null===(e=b.exchanges)||void 0===e?void 0:e.exchanges.map(e=>{let{name:t}=e;return{value:t,label:t}}))},[w,null==b?void 0:null===(e=b.exchanges)||void 0===e?void 0:e.exchanges]);let[j,E]=(0,p.useState)(""),C=(0,p.useCallback)(f()(e=>{y(e)},300),[]);(0,p.useEffect)(()=>{C(j)},[j,C]);let[Z,k]=(0,p.useState)(!1),N=(0,p.useRef)(null);return(0,p.useEffect)(()=>{let e=e=>{if("/"===e.key){var t;e.preventDefault(),null===(t=N.current)||void 0===t||t.focus()}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),(0,i.jsx)(g.fv,{isFocused:Z,children:(0,i.jsx)(g.Qc,{children:(0,i.jsx)(c.Z,{options:t,onSelect:e=>{E(e)},onSearch:e=>{E(e)},value:j,children:(0,i.jsx)(u.Z,{ref:N,prefix:(0,i.jsx)(r.Z,{}),suffix:Z||d||!m||v.length>0?"":"/",style:{width:"100%",height:"34px"},placeholder:S("app.exchangesPage.search"),onFocus:()=>k(!0),onBlur:()=>k(!1)})})})})}},9497:function(e,t,n){n.d(t,{Z:function(){return y}});var i=n(57437),a=n(45084),l=n(73366),r=n(18928),o=n(88545),s=n(60286),c=n(95583),u=n(60113),d=n(30166),f=n(99376),p=n(2265),h=n(75629),g=n(17336),m=n(32719),x=n(87168);let v=(0,d.default)(()=>Promise.resolve().then(n.bind(n,87168)),{loadableGenerated:{webpack:()=>[87168]},loading:()=>(0,i.jsx)(x.FilterSectionSearchSuspense,{}),ssr:!1});var y=e=>{let{currentPage:t}=e,{isMobile:n}=(0,s.Z)(),{filters:d,applyFilters:x,removeFilter:y}=(0,g.b)(),{t:S}=(0,o.ZP)(),b=(0,f.useRouter)(),w=(0,f.usePathname)(),j=(0,f.useSearchParams)(),[E,C]=(0,p.useState)({});(0,p.useEffect)(()=>{let e={};null==j||j.forEach((t,n)=>{e[n]=t}),x((0,r.r4)(e)),C(e)},[j]);let Z=e=>{let n={...E};e.forEach(e=>{null!==e.from&&null!==e.to&&(n[e.field]="".concat(e.from,"-").concat(e.to))}),C(n),(0,r.uh)(b,w,n,!0,t),x(e)},k=e=>{let n={...E};delete n[e],C(n),(0,r.uh)(b,w,n,!0,t),y(e)};return(0,i.jsx)(u.ZP,{theme:l.c6,children:(0,i.jsx)(m.kZ,{children:(0,i.jsx)(c.Z,{children:(0,i.jsxs)(m.Px,{children:[(0,i.jsx)(m.Ux,{children:S("app.filters.filterBy")}),(0,i.jsxs)(m.x$,{children:[(0,i.jsx)(h.Z,{label:S("app.exchangesPage.trustScoreRank"),type:"auto",value:a.m3.TrustScoreRank,applyFilters:Z,removeFilter:k,filters:d},"Rank"),!n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.Z,{label:S("app.exchangesPage.trustScore"),type:"auto",value:a.m3.TrustScore,applyFilters:Z,removeFilter:k,filters:d,punchRight:!0},a.m3.TrustScore),(0,i.jsx)(h.Z,{label:S("app.exchangesPage.tradeVolume24HBtc"),type:"auto",value:a.m3.TradeVolume_24HBtc,applyFilters:Z,removeFilter:k,filters:d,punchRight:!0},a.m3.TradeVolume_24HBtc)]})]}),(0,i.jsx)(v,{})]})})})})}},52390:function(e,t,n){var i=n(57437),a=n(14764),l=n(91476),r=n(45084),o=n(65922),s=n(88545),c=n(60286),u=n(43177),d=n(65646),f=n(99710),p=n(48651),h=n(2265),g=n(39236),m=n(12735),x=n(17336);let v={[g.d.SPOT]:r.de.TrustScoreRank,[g.d.DERIVATES]:r.de.TradeVolume_24HFiat},y={[g.d.SPOT]:r.d$.Asc,[g.d.DERIVATES]:r.d$.Desc};function S(e){return[...e.filter(e=>!!e.sponsor),...e.filter(e=>!e.sponsor)]}function b(e,t){return t&&0!==t.length?e.map(e=>{let n=t.find(t=>t.exchange_name===e.id);return n?{...e,affiliate:n}:e}):e}t.Z=e=>{let{currentPage:t,initialExchanges:n}=e,[g,w]=(0,h.useState)([]),[j,E]=(0,h.useState)(0),[C,Z]=(0,h.useState)(t),[k,N]=(0,h.useState)(0),{locale:F,runtimeEnvironment:P}=(0,s.ZP)(),{currency:T}=(0,u.u)(),{isMobile:_}=(0,c.Z)(),I=(0,a.aX)(F,P),{filters:R,filterNameQuery:z,tagFilter:B}=(0,x.b)(),L=(0,h.useMemo)(()=>I.affiliates?{d:I.domain,p:"exchange_details_trade,exchange_page_table,price_detail_exchange_buy",c:"all",p_id:"2"}:null,[I.affiliates,I.domain]),{data:O}=(0,o.Z)(L,"/exchanges"),V=(0,m.Y)({exchangesAffiliate:O}),[$]=(0,f.t)(l.fm),q=(0,h.useMemo)(()=>({general:{paginationOffset:{offset:k,limit:30},sortBy:v[B.tag],orderBy:y[B.tag],fiatType:T},...R.length>0&&{filterRange:{filters:R}},filterTag:{filters:[{field:r.eC.Type,tags:[null==B?void 0:B.tag]}]},includeSponsors:I.affiliates?F:"",...z.length>1&&{filterQuery:{filters:[{query:z,field:r.X1.Name,queryType:r.yi.StartsWith}]}}}),[k,T,R,null==B?void 0:B.tag,z,I.affiliates,F]),A=(0,h.useCallback)(async e=>{try{var t,n,i;let a=(e-1)*30,{data:l}=await $({variables:{...q,general:{...q.general,paginationOffset:{offset:a,limit:30}}}});if(null==l?void 0:null===(t=l.exchanges)||void 0===t?void 0:t.exchanges){let t=l.exchanges.exchanges;if(t=b(t,O),e>1)w(e=>(function(e,t){let n=[...e,...t],i=new Map;for(let e of n)i.set(e.id,e);return S(Array.from(i.values()))})(e,t));else{let e=S(t);w(e)}(null==l?void 0:null===(i=l.exchanges)||void 0===i?void 0:null===(n=i.pagination)||void 0===n?void 0:n.total)&&E(l.exchanges.pagination.total)}Z(e),N(a)}catch(e){console.error("Error loading exchanges:",e)}},[$,q,O]);(0,h.useEffect)(()=>{Z(1),N(0),w([]),A(1)},[T,R,null==B?void 0:B.tag,z,I.affiliates,F,O]);let D=(0,h.useCallback)(async e=>{let{scrollTop:t,scrollHeight:n,clientHeight:i}=e.currentTarget;if(n-t-i<100){if(g.length>=j)return;await A(C+1)}},[g.length,j,C,A]),H=h.useRef(null);return(0,h.useEffect)(()=>{let e=!1,t=t=>{if(t.touches[0].clientY,H.current){let n=H.current.getBoundingClientRect(),i=t.touches[0].clientX,a=t.touches[0].clientY;e=i>=n.left&&i<=n.right&&a>=n.top&&a<=n.bottom}},n=t=>{!e&&H.current&&(t.preventDefault(),H.current.scrollIntoView({behavior:"smooth"}))};return document.addEventListener("touchstart",t,{passive:!1}),document.addEventListener("touchmove",n,{passive:!1}),()=>{document.removeEventListener("touchstart",t),document.removeEventListener("touchmove",n)}},[]),(0,h.useEffect)(()=>{n&&n.length>0&&w(S(b(n,O)))},[n,O]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("style",{children:"\n          .infinite-table-container {\n            position: relative;\n            height: 100%;\n            overflow: hidden;\n            min-height: 400px;\n          }\n\n          .infinite-table-container > div {\n            height: 100%;\n            overflow-y: auto;\n            -webkit-overflow-scrolling: touch;\n          }\n          \n          .loading-container {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 100%;\n            width: 100%;\n          }\n        "}),(0,i.jsx)("div",{ref:H,className:"infinite-table-container",children:g.length>0?(0,i.jsx)(d.Z,{data:g,columns:V,infiniteScrollLoading:!1,onScroll:D}):(0,i.jsx)("div",{className:"loading-container",children:(0,i.jsx)(p.Z,{size:"large"})})})]})}},18928:function(e,t,n){n.d(t,{Ox:function(){return l},r4:function(){return a},uh:function(){return i},zp:function(){return r}});let i=function(e,t,n,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=new URLSearchParams;Object.entries(n).forEach(e=>{let[t,n]=e;null!=n&&""!==n&&l.set(t,n)});let r=i?1:a,o=t.replace(/\/\d+\/?$/,"").replace(/\/$/,""),s="".concat(o).concat(r>1?"/".concat(r):"").concat(l.toString()?"/?".concat(l.toString()):"/");e.replace(s)},a=e=>Object.entries(e).map(e=>{let[t,n]=e,[i,a]=n.split("-").map(Number);return{field:t,from:isNaN(i)?null:i,to:isNaN(a)?null:a}}),l=e=>e.reduce((e,t)=>(null!==t.from&&null!==t.to&&(e[t.field]="".concat(t.from,"-").concat(t.to)),e),{}),r=e=>e.includes("_etoro")}}]);