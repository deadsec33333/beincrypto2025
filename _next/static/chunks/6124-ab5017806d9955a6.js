"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6124],{36124:function(t,e,s){s.d(e,{OH:function(){return n.OH},q_:function(){return tu}});var i,n=s(65501),a=s(2265),r=s(43343);function o(t,...e){return n.is.fun(t)?t(...e):t}var u=(t,e)=>!0===t||!!(e&&t&&(n.is.fun(t)?t(e):(0,n.qo)(t).includes(e))),h=(t,e)=>n.is.obj(t)?e&&t[e]:t,l=(t,e)=>!0===t.default?t[e]:t.default?t.default[e]:void 0,d=t=>t,c=(t,e=d)=>{let s=p;t.default&&!0!==t.default&&(s=Object.keys(t=t.default));let i={};for(let a of s){let s=e(t[a],a);n.is.und(s)||(i[a]=s)}return i},p=["config","onProps","onStart","onChange","onPause","onResume","onRest"],f={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function m(t){let e=function(t){let e={},s=0;if((0,n.rU)(t,(t,i)=>{!f[i]&&(e[i]=t,s++)}),s)return e}(t);if(e){let s={to:e};return(0,n.rU)(t,(t,i)=>i in e||(s[i]=t)),s}return{...t}}function _(t){return t=(0,n.je)(t),n.is.arr(t)?t.map(_):(0,n.Df)(t)?n.OH.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function g(t){return n.is.fun(t)||n.is.arr(t)&&n.is.obj(t[0])}var y={tension:170,friction:26,mass:1,damping:1,easing:n.Z5.linear,clamp:!1},v=class{constructor(){this.velocity=0,Object.assign(this,y)}};function b(t,e){if(n.is.und(e.decay)){let s=!n.is.und(e.tension)||!n.is.und(e.friction);!s&&n.is.und(e.frequency)&&n.is.und(e.damping)&&n.is.und(e.mass)||(t.duration=void 0,t.decay=void 0),s&&(t.frequency=void 0)}else t.duration=void 0}var S=[],P=class{constructor(){this.changed=!1,this.values=S,this.toValues=null,this.fromValues=S,this.config=new v,this.immediate=!1}};function w(t,{key:e,props:s,defaultProps:i,state:a,actions:r}){return new Promise((h,l)=>{let d,c;let p=u(s.cancel??i?.cancel,e);if(p)_();else{n.is.und(s.pause)||(a.paused=u(s.pause,e));let t=i?.pause;!0!==t&&(t=a.paused||u(t,e)),d=o(s.delay||0,e),t?(a.resumeQueue.add(m),r.pause()):(r.resume(),m())}function f(){a.resumeQueue.add(m),a.timeouts.delete(c),c.cancel(),d=c.time-n.Wn.now()}function m(){d>0&&!n.OH.skipAnimation?(a.delayed=!0,c=n.Wn.setTimeout(_,d),a.pauseQueue.add(f),a.timeouts.add(c)):_()}function _(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(f),a.timeouts.delete(c),t<=(a.cancelId||0)&&(p=!0);try{r.start({...s,callId:t,cancel:p},h)}catch(t){l(t)}}})}var j=(t,e)=>1==e.length?e[0]:e.some(t=>t.cancelled)?q(t.get()):e.every(t=>t.noop)?C(t.get()):I(t.get(),e.every(t=>t.finished)),C=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),I=(t,e,s=!1)=>({value:t,finished:e,cancelled:s}),q=t=>({value:t,cancelled:!0,finished:!1});function k(t,e,s,i){let{callId:a,parentId:r,onRest:o}=e,{asyncTo:u,promise:h}=s;return r||t!==u||e.reset?s.promise=(async()=>{let l,d,p;s.asyncId=a,s.asyncTo=t;let f=c(e,(t,e)=>"onRest"===e?void 0:t),m=new Promise((t,e)=>(l=t,d=e)),_=t=>{let e=a<=(s.cancelId||0)&&q(i)||a!==s.asyncId&&I(i,!1);if(e)throw t.result=e,d(t),t},g=(t,e)=>{let r=new R,o=new M;return(async()=>{if(n.OH.skipAnimation)throw O(s),o.result=I(i,!1),d(o),o;_(r);let u=n.is.obj(t)?{...t}:{...e,to:t};u.parentId=a,(0,n.rU)(f,(t,e)=>{n.is.und(u[e])&&(u[e]=t)});let h=await i.start(u);return _(r),s.paused&&await new Promise(t=>{s.resumeQueue.add(t)}),h})()};if(n.OH.skipAnimation)return O(s),I(i,!1);try{let e;e=n.is.arr(t)?(async t=>{for(let e of t)await g(e)})(t):Promise.resolve(t(g,i.stop.bind(i))),await Promise.all([e.then(l),m]),p=I(i.get(),!0,!1)}catch(t){if(t instanceof R)p=t.result;else if(t instanceof M)p=t.result;else throw t}finally{a==s.asyncId&&(s.asyncId=r,s.asyncTo=r?u:void 0,s.promise=r?h:void 0)}return n.is.fun(o)&&n.Wn.batchedUpdates(()=>{o(p,i,i.item)}),p})():h}function O(t,e){(0,n.yl)(t.timeouts,t=>t.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var R=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},M=class extends Error{constructor(){super("SkipAnimationSignal")}},V=t=>t instanceof U,T=1,U=class extends n.B0{constructor(){super(...arguments),this.id=T++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){let t=(0,r.ys)(this);return t&&t.getValue()}to(...t){return n.OH.to(this,t)}interpolate(...t){return(0,n.LW)(),n.OH.to(this,t)}toJSON(){return this.get()}observerAdded(t){1==t&&this._attach()}observerRemoved(t){0==t&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){(0,n.k0)(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||n.fT.sort(this),(0,n.k0)(this,{type:"priority",parent:this,priority:t})}},A=Symbol.for("SpringPhase"),H=t=>(1&t[A])>0,Q=t=>(2&t[A])>0,x=t=>(4&t[A])>0,z=(t,e)=>e?t[A]|=3:t[A]&=-3,W=(t,e)=>e?t[A]|=4:t[A]&=-5,N=class extends U{constructor(t,e){if(super(),this.animation=new P,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!n.is.und(t)||!n.is.und(e)){let s=n.is.obj(t)?{...t}:{...e,from:t};n.is.und(s.default)&&(s.default=!0),this.start(s)}}get idle(){return!(Q(this)||this._state.asyncTo)||x(this)}get goal(){return(0,n.je)(this.animation.to)}get velocity(){let t=(0,r.ys)(this);return t instanceof r.iG?t.lastVelocity||0:t.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return H(this)}get isAnimating(){return Q(this)}get isPaused(){return x(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,s=!1,i=this.animation,{toValues:a}=i,{config:o}=i,u=(0,r.He)(i.to);!u&&(0,n.j$)(i.to)&&(a=(0,n.qo)((0,n.je)(i.to))),i.values.forEach((h,l)=>{if(h.done)return;let d=h.constructor==r.eC?1:u?u[l].lastPosition:a[l],c=i.immediate,p=d;if(!c){let e;if(p=h.lastPosition,o.tension<=0){h.done=!0;return}let s=h.elapsedTime+=t,a=i.fromValues[l],r=null!=h.v0?h.v0:h.v0=n.is.arr(o.velocity)?o.velocity[l]:o.velocity,u=o.precision||(a==d?.005:Math.min(1,.001*Math.abs(d-a)));if(n.is.und(o.duration)){if(o.decay){let t=!0===o.decay?.998:o.decay,i=Math.exp(-(1-t)*s);p=a+r/(1-t)*(1-i),c=Math.abs(h.lastPosition-p)<=u,e=r*i}else{e=null==h.lastVelocity?r:h.lastVelocity;let s=o.restVelocity||u/10,i=o.clamp?0:o.bounce,l=!n.is.und(i),f=a==d?h.v0>0:a<d,m=Math.ceil(t/1);for(let t=0;t<m&&!(!(Math.abs(e)>s)&&(c=Math.abs(d-p)<=u));++t){l&&(p==d||p>d==f)&&(e=-e*i,p=d);let t=(-(1e-6*o.tension)*(p-d)+-(.001*o.friction)*e)/o.mass;e+=1*t,p+=1*e}}}else{let i=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,h.durationProgress>0&&(h.elapsedTime=o.duration*h.durationProgress,s=h.elapsedTime+=t)),i=(i=(o.progress||0)+s/this._memoizedDuration)>1?1:i<0?0:i,h.durationProgress=i),e=((p=a+o.easing(i)*(d-a))-h.lastPosition)/t,c=1==i}h.lastVelocity=e,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),c=!0)}u&&!u[l].done&&(c=!1),c?h.done=!0:e=!1,h.setValue(p,o.round)&&(s=!0)});let h=(0,r.ys)(this),l=h.getValue();if(e){let t=(0,n.je)(i.to);(l!==t||s)&&!o.decay?(h.setValue(t),this._onChange(t)):s&&o.decay&&this._onChange(l),this._stop()}else s&&this._onChange(l)}set(t){return n.Wn.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Q(this)){let{to:t,config:e}=this.animation;n.Wn.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let s;return n.is.und(t)?(s=this.queue||[],this.queue=[]):s=[n.is.obj(t)?t:{...e,to:t}],Promise.all(s.map(t=>this._update(t))).then(t=>j(this,t))}stop(t){let{to:e}=this.animation;return this._focus(this.get()),O(this._state,t&&this._lastCallId),n.Wn.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){"change"==t.type?this._start():"priority"==t.type&&(this.priority=t.priority+1)}_prepareNode(t){let e=this.key||"",{to:s,from:i}=t;(null==(s=n.is.obj(s)?s[e]:s)||g(s))&&(s=void 0),null==(i=n.is.obj(i)?i[e]:i)&&(i=void 0);let a={to:s,from:i};return H(this)||(t.reverse&&([s,i]=[i,s]),i=(0,n.je)(i),n.is.und(i)?(0,r.ys)(this)||this._set(s):this._set(i)),a}_update({...t},e){let{key:s,defaultProps:i}=this;t.default&&Object.assign(i,c(t,(t,e)=>/^on/.test(e)?h(t,s):t)),L(this,t,"onProps"),Z(this,"onProps",t,this);let a=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let r=this._state;return w(++this._lastCallId,{key:s,props:t,defaultProps:i,state:r,actions:{pause:()=>{x(this)||(W(this,!0),(0,n.bl)(r.pauseQueue),Z(this,"onPause",I(this,D(this,this.animation.to)),this))},resume:()=>{x(this)&&(W(this,!1),Q(this)&&this._resume(),(0,n.bl)(r.resumeQueue),Z(this,"onResume",I(this,D(this,this.animation.to)),this))},start:this._merge.bind(this,a)}}).then(s=>{if(t.loop&&s.finished&&!(e&&s.noop)){let e=$(t);if(e)return this._update(e,!0)}return s})}_merge(t,e,s){if(e.cancel)return this.stop(!0),s(q(this));let i=!n.is.und(t.to),a=!n.is.und(t.from);if(i||a){if(!(e.callId>this._lastToId))return s(q(this));this._lastToId=e.callId}let{key:h,defaultProps:l,animation:d}=this,{to:c,from:p}=d,{to:f=c,from:m=p}=t;a&&!i&&(!e.default||n.is.und(f))&&(f=m),e.reverse&&([f,m]=[m,f]);let v=!(0,n.Xy)(m,p);v&&(d.from=m),m=(0,n.je)(m);let S=!(0,n.Xy)(f,c);S&&this._focus(f);let P=g(e.to),{config:w}=d,{decay:j,velocity:O}=w;(i||a)&&(w.velocity=0),e.config&&!P&&function(t,e,s){for(let i in s&&(b(s={...s},e),e={...s,...e}),b(t,e),Object.assign(t,e),y)null==t[i]&&(t[i]=y[i]);let{frequency:i,damping:a}=t,{mass:r}=t;n.is.und(i)||(i<.01&&(i=.01),a<0&&(a=0),t.tension=Math.pow(2*Math.PI/i,2)*r,t.friction=4*Math.PI*a*r/i)}(w,o(e.config,h),e.config!==l.config?o(l.config,h):void 0);let R=(0,r.ys)(this);if(!R||n.is.und(f))return s(I(this,!0));let M=n.is.und(e.reset)?a&&!e.default:!n.is.und(m)&&u(e.reset,h),V=M?m:this.get(),T=_(f),U=n.is.num(T)||n.is.arr(T)||(0,n.Df)(T),A=!P&&(!U||u(l.immediate||e.immediate,h));if(S){let t=(0,r.sb)(f);if(t!==R.constructor){if(A)R=this._set(T);else throw Error(`Cannot animate between ${R.constructor.name} and ${t.name}, as the "to" prop suggests`)}}let x=R.constructor,z=(0,n.j$)(f),W=!1;if(!z){let t=M||!H(this)&&v;(S||t)&&(z=!(W=(0,n.Xy)(_(V),T))),((0,n.Xy)(d.immediate,A)||A)&&(0,n.Xy)(w.decay,j)&&(0,n.Xy)(w.velocity,O)||(z=!0)}if(W&&Q(this)&&(d.changed&&!M?z=!0:z||this._stop(c)),!P&&((z||(0,n.j$)(c))&&(d.values=R.getPayload(),d.toValues=(0,n.j$)(f)?null:x==r.eC?[1]:(0,n.qo)(T)),d.immediate==A||(d.immediate=A,A||M||this._set(c)),z)){let{onRest:t}=d;(0,n.S6)(F,t=>L(this,e,t));let i=I(this,D(this,c));(0,n.bl)(this._pendingCalls,i),this._pendingCalls.add(s),d.changed&&n.Wn.batchedUpdates(()=>{d.changed=!M,t?.(i,this),M?o(l.onRest,i):d.onStart?.(i,this)})}M&&this._set(V),P?s(k(e.to,e,this._state,this)):z?this._start():Q(this)&&!S?this._pendingCalls.add(s):s(C(V))}_focus(t){let e=this.animation;t!==e.to&&((0,n.Ll)(this)&&this._detach(),e.to=t,(0,n.Ll)(this)&&this._attach())}_attach(){let t=0,{to:e}=this.animation;(0,n.j$)(e)&&((0,n.UI)(e,this),V(e)&&(t=e.priority+1)),this.priority=t}_detach(){let{to:t}=this.animation;(0,n.j$)(t)&&(0,n.iL)(t,this)}_set(t,e=!0){let s=(0,n.je)(t);if(!n.is.und(s)){let t=(0,r.ys)(this);if(!t||!(0,n.Xy)(s,t.getValue())){let i=(0,r.sb)(s);t&&t.constructor==i?t.setValue(s):(0,r.f3)(this,i.create(s)),t&&n.Wn.batchedUpdates(()=>{this._onChange(s,e)})}}return(0,r.ys)(this)}_onStart(){let t=this.animation;t.changed||(t.changed=!0,Z(this,"onStart",I(this,D(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),o(this.animation.onChange,t,this)),o(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){let t=this.animation;(0,r.ys)(this).reset((0,n.je)(t.to)),t.immediate||(t.fromValues=t.values.map(t=>t.lastPosition)),Q(this)||(z(this,!0),x(this)||this._resume())}_resume(){n.OH.skipAnimation?this.finish():n.fT.start(this)}_stop(t,e){if(Q(this)){z(this,!1);let s=this.animation;(0,n.S6)(s.values,t=>{t.done=!0}),s.toValues&&(s.onChange=s.onPause=s.onResume=void 0),(0,n.k0)(this,{type:"idle",parent:this});let i=e?q(this.get()):I(this.get(),D(this,t??s.to));(0,n.bl)(this._pendingCalls,i),s.changed&&(s.changed=!1,Z(this,"onRest",i,this))}}};function D(t,e){let s=_(e),i=_(t.get());return(0,n.Xy)(i,s)}function $(t,e=t.loop,s=t.to){let i=o(e);if(i){let n=!0!==i&&m(i),a=(n||t).reverse,r=!n||n.reset;return X({...t,loop:e,default:!1,pause:void 0,to:!a||g(s)?s:void 0,from:r?t.from:void 0,reset:r,...n})}}function X(t){let{to:e,from:s}=t=m(t),i=new Set;return n.is.obj(e)&&E(e,i),n.is.obj(s)&&E(s,i),t.keys=i.size?Array.from(i):null,t}function E(t,e){(0,n.rU)(t,(t,s)=>null!=t&&e.add(s))}var F=["onStart","onRest","onChange","onPause","onResume"];function L(t,e,s){t.animation[s]=e[s]!==l(e,s)?h(e[s],t.key):void 0}function Z(t,e,...s){t.animation[e]?.(...s),t.defaultProps[e]?.(...s)}var G=["onStart","onChange","onRest"],B=1,J=class{constructor(t,e){this.id=B++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){let t={};return this.each((e,s)=>t[s]=e.get()),t}set(t){for(let e in t){let s=t[e];n.is.und(s)||this.springs[e].set(s)}}update(t){return t&&this.queue.push(X(t)),this}start(t){let{queue:e}=this;return(t?e=(0,n.qo)(t).map(X):this.queue=[],this._flush)?this._flush(this,e):(tn(this,e),Y(this,e))}stop(t,e){if(!!t!==t&&(e=t),e){let s=this.springs;(0,n.S6)((0,n.qo)(e),e=>s[e].stop(!!t))}else O(this._state,this._lastAsyncId),this.each(e=>e.stop(!!t));return this}pause(t){if(n.is.und(t))this.start({pause:!0});else{let e=this.springs;(0,n.S6)((0,n.qo)(t),t=>e[t].pause())}return this}resume(t){if(n.is.und(t))this.start({pause:!1});else{let e=this.springs;(0,n.S6)((0,n.qo)(t),t=>e[t].resume())}return this}each(t){(0,n.rU)(this.springs,t)}_onFrame(){let{onStart:t,onChange:e,onRest:s}=this._events,i=this._active.size>0,a=this._changed.size>0;(i&&!this._started||a&&!this._started)&&(this._started=!0,(0,n.yl)(t,([t,e])=>{e.value=this.get(),t(e,this,this._item)}));let r=!i&&this._started,o=a||r&&s.size?this.get():null;a&&e.size&&(0,n.yl)(e,([t,e])=>{e.value=o,t(e,this,this._item)}),r&&(this._started=!1,(0,n.yl)(s,([t,e])=>{e.value=o,t(e,this,this._item)}))}eventObserved(t){if("change"==t.type)this._changed.add(t.parent),t.idle||this._active.add(t.parent);else{if("idle"!=t.type)return;this._active.delete(t.parent)}n.Wn.onFrame(this._onFrame)}};function Y(t,e){return Promise.all(e.map(e=>K(t,e))).then(e=>j(t,e))}async function K(t,e,s){let{keys:i,to:a,from:r,loop:o,onRest:u,onResolve:h}=e,d=n.is.obj(e.default)&&e.default;o&&(e.loop=!1),!1===a&&(e.to=null),!1===r&&(e.from=null);let c=n.is.arr(a)||n.is.fun(a)?a:void 0;c?(e.to=void 0,e.onRest=void 0,d&&(d.onRest=void 0)):(0,n.S6)(G,s=>{let i=e[s];if(n.is.fun(i)){let n=t._events[s];e[s]=({finished:t,cancelled:e})=>{let s=n.get(i);s?(t||(s.finished=!1),e&&(s.cancelled=!0)):n.set(i,{value:null,finished:t||!1,cancelled:e||!1})},d&&(d[s]=e[s])}});let p=t._state;!p.paused===e.pause?(p.paused=e.pause,(0,n.bl)(e.pause?p.pauseQueue:p.resumeQueue)):p.paused&&(e.pause=!0);let f=(i||Object.keys(t.springs)).map(s=>t.springs[s].start(e)),m=!0===e.cancel||!0===l(e,"cancel");(c||m&&p.asyncId)&&f.push(w(++t._lastAsyncId,{props:e,state:p,actions:{pause:n.ZT,resume:n.ZT,start(e,s){m?(O(p,t._lastAsyncId),s(q(t))):(e.onRest=u,s(k(c,e,p,t)))}}})),p.paused&&await new Promise(t=>{p.resumeQueue.add(t)});let _=j(t,await Promise.all(f));if(o&&_.finished&&!(s&&_.noop)){let s=$(e,o,a);if(s)return tn(t,[s]),K(t,s,!0)}return h&&n.Wn.batchedUpdates(()=>h(_,t,t.item)),_}function tt(t,e){let s={...t.springs};return e&&(0,n.S6)((0,n.qo)(e),t=>{n.is.und(t.keys)&&(t=X(t)),n.is.obj(t.to)||(t={...t,to:void 0}),ti(s,t,t=>ts(t))}),te(t,s),s}function te(t,e){(0,n.rU)(e,(e,s)=>{t.springs[s]||(t.springs[s]=e,(0,n.UI)(e,t))})}function ts(t,e){let s=new N;return s.key=t,e&&(0,n.UI)(s,e),s}function ti(t,e,s){e.keys&&(0,n.S6)(e.keys,i=>{(t[i]||(t[i]=s(i)))._prepareNode(e)})}function tn(t,e){(0,n.S6)(e,e=>{ti(t.springs,e,e=>ts(e,t))})}var ta=({children:t,...e})=>{let s=(0,a.useContext)(tr),i=e.pause||!!s.pause,r=e.immediate||!!s.immediate;e=(0,n.Pr)(()=>({pause:i,immediate:r}),[i,r]);let{Provider:o}=tr;return a.createElement(o,{value:e},t)},tr=(i={},Object.assign(ta,a.createContext(i)),ta.Provider._context=ta,ta.Consumer._context=ta,ta);ta.Provider=tr.Provider,ta.Consumer=tr.Consumer;var to=()=>{let t=[],e=function(e){(0,n.ZR)();let i=[];return(0,n.S6)(t,(t,a)=>{if(n.is.und(e))i.push(t.start());else{let n=s(e,t,a);n&&i.push(t.start(n))}}),i};e.current=t,e.add=function(e){t.includes(e)||t.push(e)},e.delete=function(e){let s=t.indexOf(e);~s&&t.splice(s,1)},e.pause=function(){return(0,n.S6)(t,t=>t.pause(...arguments)),this},e.resume=function(){return(0,n.S6)(t,t=>t.resume(...arguments)),this},e.set=function(e){(0,n.S6)(t,(t,s)=>{let i=n.is.fun(e)?e(s,t):e;i&&t.set(i)})},e.start=function(e){let s=[];return(0,n.S6)(t,(t,i)=>{if(n.is.und(e))s.push(t.start());else{let n=this._getProps(e,t,i);n&&s.push(t.start(n))}}),s},e.stop=function(){return(0,n.S6)(t,t=>t.stop(...arguments)),this},e.update=function(e){return(0,n.S6)(t,(t,s)=>t.update(this._getProps(e,t,s))),this};let s=function(t,e,s){return n.is.fun(t)?t(s,e):t};return e._getProps=s,e};function tu(t,e){let s=n.is.fun(t),[[i],r]=function(t,e,s){let i=n.is.fun(e)&&e;i&&!s&&(s=[]);let r=(0,a.useMemo)(()=>i||3==arguments.length?to():void 0,[]),o=(0,a.useRef)(0),u=(0,n.NW)(),h=(0,a.useMemo)(()=>({ctrls:[],queue:[],flush(t,e){let s=tt(t,e);return!(o.current>0)||h.queue.length||Object.keys(s).some(e=>!t.springs[e])?new Promise(i=>{te(t,s),h.queue.push(()=>{i(Y(t,e))}),u()}):Y(t,e)}}),[]),l=(0,a.useRef)([...h.ctrls]),d=[],p=(0,n.zH)(t)||0;function f(t,s){for(let a=t;a<s;a++){let t=l.current[a]||(l.current[a]=new J(null,h.flush)),s=i?i(a,t):e[a];s&&(d[a]=function(t){let e=X(t);return n.is.und(e.default)&&(e.default=c(e)),e}(s))}}(0,a.useMemo)(()=>{(0,n.S6)(l.current.slice(t,p),t=>{t.ref?.delete(t),r?.delete(t),t.stop(!0)}),l.current.length=t,f(p,t)},[t]),(0,a.useMemo)(()=>{f(0,Math.min(p,t))},s);let m=l.current.map((t,e)=>tt(t,d[e])),_=(0,a.useContext)(ta),g=(0,n.zH)(_),y=_!==g&&function(t){for(let e in t)return!0;return!1}(_);(0,n.LI)(()=>{o.current++,h.ctrls=l.current;let{queue:t}=h;t.length&&(h.queue=[],(0,n.S6)(t,t=>t())),(0,n.S6)(l.current,(t,e)=>{r?.add(t),y&&t.start({default:_});let s=d[e];if(s){var i;(i=s.ref)&&t.ref!==i&&(t.ref?.delete(t),i.add(t),t.ref=i),t.ref?t.queue.push(s):t.start(s)}})}),(0,n.tf)(()=>()=>{(0,n.S6)(h.ctrls,t=>t.stop(!0))});let v=m.map(t=>({...t}));return r?[v,r]:v}(1,s?t:[t],s?e||[]:e);return s||2==arguments.length?[i,r]:i}var th=class extends U{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=(0,n.mD)(...e);let s=this._get(),i=(0,r.sb)(s);(0,r.f3)(this,i.create(s))}advance(t){let e=this._get(),s=this.get();(0,n.Xy)(e,s)||((0,r.ys)(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&td(this._active)&&tc(this)}_get(){let t=n.is.arr(this.source)?this.source.map(n.je):(0,n.qo)((0,n.je)(this.source));return this.calc(...t)}_start(){this.idle&&!td(this._active)&&(this.idle=!1,(0,n.S6)((0,r.He)(this),t=>{t.done=!1}),n.OH.skipAnimation?(n.Wn.batchedUpdates(()=>this.advance()),tc(this)):n.fT.start(this))}_attach(){let t=1;(0,n.S6)((0,n.qo)(this.source),e=>{(0,n.j$)(e)&&(0,n.UI)(e,this),V(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){(0,n.S6)((0,n.qo)(this.source),t=>{(0,n.j$)(t)&&(0,n.iL)(t,this)}),this._active.clear(),tc(this)}eventObserved(t){"change"==t.type?t.idle?this.advance():(this._active.add(t.parent),this._start()):"idle"==t.type?this._active.delete(t.parent):"priority"==t.type&&(this.priority=(0,n.qo)(this.source).reduce((t,e)=>Math.max(t,(V(e)?e.priority:0)+1),0))}};function tl(t){return!1!==t.idle}function td(t){return!t.size||Array.from(t).every(tl)}function tc(t){t.idle||(t.idle=!0,(0,n.S6)((0,r.He)(t),t=>{t.done=!0}),(0,n.k0)(t,{type:"idle",parent:t}))}n.OH.assign({createStringInterpolator:n.qS,to:(t,e)=>new th(t,e)}),n.fT.advance}}]);