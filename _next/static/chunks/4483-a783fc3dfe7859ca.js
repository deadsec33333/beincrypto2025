"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4483],{44483:function(e,t,n){let i;n.d(t,{g7:function(){return s.Slot},dP:function(){return S},re:function(){return _}});var l=n(46238),r=n(60636),s=n(22234);let{bind:u,noContext:c}=s.Slot,h=new s.Slot,{hasOwnProperty:o}=Object.prototype,a=Array.from||function(e){let t=[];return e.forEach(e=>t.push(e)),t};function p(e){let{unsubscribe:t}=e;"function"==typeof t&&(e.unsubscribe=void 0,t())}let d=[];function f(e,t){if(!e)throw Error(t||"assertion failure")}function y(e,t){let n=e.length;return n>0&&n===t.length&&e[n-1]===t[n-1]}function g(e){switch(e.length){case 0:throw Error("unknown value");case 1:return e[0];case 2:throw e[1]}}class b{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++b.count}peek(){if(1===this.value.length&&!V(this))return w(this),this.value[0]}recompute(e){var t;return f(!this.recomputing,"already recomputing"),w(this),V(this)&&(z(this),h.withValue(this,v,[this,e]),function(e,t){if("function"==typeof e.subscribe)try{p(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(this,e)&&(this.dirty=!1,V(this)||(t=this,C(t,m)))),g(this.value)}setDirty(){this.dirty||(this.dirty=!0,C(this,k),p(this))}dispose(){this.setDirty(),z(this),C(this,(e,t)=>{e.setDirty(),E(e,this)})}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=d.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(a(this.deps).forEach(e=>e.delete(this)),this.deps.clear(),d.push(this.deps),this.deps=null)}}function w(e){let t=h.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),V(e)?k(t,e):m(t,e),t}function v(e,t){let n;e.recomputing=!0;let{normalizeResult:i}=e;i&&1===e.value.length&&(n=e.value.slice(0)),e.value.length=0;try{if(e.value[0]=e.fn.apply(null,t),i&&n&&!y(n,e.value))try{e.value[0]=i(e.value[0],n[0])}catch(e){}}catch(t){e.value[1]=t}e.recomputing=!1}function V(e){return e.dirty||!!(e.dirtyChildren&&e.dirtyChildren.size)}function C(e,t){let n=e.parents.size;if(n){let i=a(e.parents);for(let l=0;l<n;++l)t(i[l],e)}}function k(e,t){f(e.childValues.has(t)),f(V(t));let n=!V(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=d.pop()||new Set;e.dirtyChildren.add(t),n&&C(e,k)}function m(e,t){f(e.childValues.has(t)),f(!V(t));let n=e.childValues.get(t);0===n.length?e.childValues.set(t,t.value.slice(0)):y(n,t.value)||e.setDirty(),D(e,t),V(e)||C(e,m)}function D(e,t){let n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(d.length<100&&d.push(n),e.dirtyChildren=null))}function z(e){e.childValues.size>0&&e.childValues.forEach((t,n)=>{E(e,n)}),e.forgetDeps(),f(null===e.dirtyChildren)}function E(e,t){t.parents.delete(e),e.childValues.delete(t),D(e,t)}b.count=0;let O={setDirty:!0,dispose:!0,forget:!0};function S(e){let t=new Map,n=e&&e.subscribe;function i(e){let i=h.getValue();if(i){let l=t.get(e);l||t.set(e,l=new Set),i.dependOn(l),"function"==typeof n&&(p(l),l.unsubscribe=n(e))}}return i.dirty=function(e,n){let i=t.get(e);if(i){let l=n&&o.call(O,n)?n:"setDirty";a(i).forEach(e=>e[l]()),t.delete(e),p(i)}},i}function j(...e){return(i||(i=new l.B("function"==typeof WeakMap))).lookupArray(e)}let K=new Set;function _(e,{max:t=65536,keyArgs:n,makeCacheKey:i=j,normalizeResult:l,subscribe:s,cache:u=r.e}=Object.create(null)){let c="function"==typeof u?new u(t,e=>e.dispose()):u,o=function(){let t=i.apply(null,n?n.apply(null,arguments):arguments);if(void 0===t)return e.apply(null,arguments);let r=c.get(t);r||(c.set(t,r=new b(e)),r.normalizeResult=l,r.subscribe=s,r.forget=()=>c.delete(t));let u=r.recompute(Array.prototype.slice.call(arguments));return c.set(t,r),K.add(c),h.hasValue()||(K.forEach(e=>e.clean()),K.clear()),u};function a(e){let t=e&&c.get(e);t&&t.setDirty()}function p(e){let t=e&&c.get(e);if(t)return t.peek()}function d(e){return!!e&&c.delete(e)}return Object.defineProperty(o,"size",{get:()=>c.size,configurable:!1,enumerable:!1}),Object.freeze(o.options={max:t,keyArgs:n,makeCacheKey:i,normalizeResult:l,subscribe:s,cache:c}),o.dirtyKey=a,o.dirty=function(){a(i.apply(null,arguments))},o.peekKey=p,o.peek=function(){return p(i.apply(null,arguments))},o.forgetKey=d,o.forget=function(){return d(i.apply(null,arguments))},o.makeCacheKey=i,o.getKey=n?function(){return i.apply(null,n.apply(null,arguments))}:i,Object.freeze(o)}}}]);